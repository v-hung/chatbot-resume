import{r as a,j as e}from"./index-Ja7Z80qs.js";const u=r=>{const{className:n="",parentClassName:d="",label:o,...l}=r,t=a.useId();return e.jsxs("div",{className:`relative ${d}`,children:[e.jsx("input",{type:"email",id:t,className:`peer block w-full rounded-lg border-gray-200 p-4 not-placeholder-shown:pt-6 not-placeholder-shown:pb-2 placeholder:text-transparent autofill:pt-6 autofill:pb-2 focus:border-blue-500 focus:pt-6 focus:pb-2 focus:ring-blue-500 disabled:pointer-events-none disabled:opacity-50 sm:text-sm ${n}`,placeholder:o,...l}),e.jsx("label",{htmlFor:t,className:"pointer-events-none absolute start-0 top-0 h-full origin-[0_0] truncate border border-transparent p-4 transition duration-100 ease-in-out peer-not-placeholder-shown:translate-x-0.5 peer-not-placeholder-shown:-translate-y-1.5 peer-not-placeholder-shown:scale-90 peer-not-placeholder-shown:text-gray-500 peer-focus:translate-x-0.5 peer-focus:-translate-y-1.5 peer-focus:scale-90 peer-focus:text-gray-500 peer-disabled:pointer-events-none peer-disabled:opacity-50 sm:text-sm",children:o})]})},w=(r,n)=>e.jsxs("svg",{viewBox:"0 0 512 512",width:"24px",height:"24px",ref:n,...r,children:[e.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32,d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56"}),e.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32,d:"m320 255.79l-64-64l-64 64m64 192.42V207.79"})]}),y=a.forwardRef(w),v=r=>{const{className:n="",...d}=r,o=a.useRef(null),[l,t]=a.useState(null),[m,c]=a.useState(!1),p=()=>o.current?.click(),x=s=>{if(!["image/jpeg","image/png"].includes(s.type)){alert("Only accept PNG or JPG");return}const i=URL.createObjectURL(s);t(j=>(j&&URL.revokeObjectURL(j),i))},f=s=>{const i=s.target.files?.[0];i&&x(i)},h=s=>{s.preventDefault(),c(!0)},g=()=>c(!1),b=s=>{s.preventDefault(),c(!1);const i=s.dataTransfer.files?.[0];i&&x(i)};return a.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]),e.jsxs("div",{className:`flex cursor-pointer justify-center overflow-hidden rounded-xl border border-dashed border-gray-300 bg-white ${m?"border-red-500 bg-red-50":""} ${n}`,onClick:p,onDragOver:h,onDragLeave:g,onDrop:b,children:[e.jsx("input",{ref:o,type:"file",accept:"image/png, image/jpeg",className:"sr-only",...d,onChange:f}),l?e.jsx("img",{src:l,className:"h-full w-full object-cover"}):e.jsxs("div",{className:"m-12 text-center",children:[e.jsx("span",{className:"inline-flex size-16 items-center justify-center",children:e.jsx(y,{className:"size-12 text-blue-500"})}),e.jsxs("div",{className:"mt-4 flex flex-wrap justify-center text-sm/6 text-gray-600",children:[e.jsx("span",{className:"pe-1 font-medium text-gray-800",children:"Drop your file here or"}),e.jsx("span",{className:"rounded-lg bg-white font-semibold text-blue-600 decoration-2 focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2 focus-within:outline-hidden hover:text-blue-700 hover:underline",children:"browse"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Pick a file up to 2MB."})]})]})},N=(r,n)=>e.jsx("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",ref:n,...r,children:e.jsx("path",{fill:"currentColor",d:"M12 22c5.421 0 10-4.579 10-10h-2c0 4.337-3.663 8-8 8s-8-3.663-8-8s3.663-8 8-8V2C6.579 2 2 6.58 2 12c0 5.421 4.579 10 10 10"})}),k=a.forwardRef(N),D=r=>{const{className:n="",pageTitle:d,requestUrl:o,...l}=r,[t,m]=a.useState(),[c,p]=a.useState(!1),x=async f=>{try{if(c)return;p(!0),f.preventDefault();const h=new FormData(f.currentTarget),g=await fetch(o,{method:"POST",body:h}).then(b=>b.json());m(g)}catch{alert("Something went wrong!")}finally{p(!1)}};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl",children:d}),e.jsxs("form",{className:"relative mt-4 flex max-w-5xl gap-4 rounded border border-gray-200 bg-white p-4 shadow",onSubmit:x,children:[e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsx(v,{name:"file"})}),e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsxs("div",{className:"max-w-sm space-y-3",children:[e.jsx(u,{label:"Id",value:t?.extract.id,readOnly:!0}),e.jsx(u,{label:"Name",value:t?.extract.name,readOnly:!0}),e.jsx(u,{label:"Date of birth",value:t?.extract.dob,readOnly:!0}),e.jsx(u,{label:"Gender",value:t?.extract.gender,readOnly:!0}),e.jsx(u,{label:"Origin place",value:t?.extract.origin_place,readOnly:!0}),e.jsx("button",{type:"submit",className:"inline-flex items-center gap-x-2 rounded-lg border border-transparent bg-sky-600 px-4 py-3 text-sm font-medium text-white hover:bg-sky-700 focus:bg-sky-700 focus:outline-hidden disabled:pointer-events-none disabled:opacity-50",children:"Extract"})]})}),c?e.jsx("div",{className:"absolute top-0 left-0 flex h-full w-full items-center justify-center bg-white/70",children:e.jsx(k,{className:"size-11 animate-spin"})}):null]}),t?.content?e.jsx("div",{className:"prose mt-6 max-w-full rounded border border-gray-200 bg-white p-4 shadow",dangerouslySetInnerHTML:{__html:t.content}}):null]})};export{D as F};
